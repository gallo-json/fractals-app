<html>
<head>
	<title>Your own fractal!</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<script>
        var mx = 0.0;
        var my = 0.0;
        var radius = 2.0;
        function zoomAt(width, height, x, y) {
            var pixelSize = (radius * 2) / 640;
            var viewHeight = (height / width) * (radius * 2);
	        var left = (mx - radius) + (pixelSize / 2);
	        var top = (my - (viewHeight / 2)) + (pixelSize / 2);
	        mx = left + x * pixelSize;
	        my = top + y * pixelSize;
	        radius = radius / 4.0;
        }
	</script>
</head>
<body>
    <h1>Your own fractal!</h1>
    <p>This simple fractal has the equation shape of f(z) = a * z ^ b + c + d. Play around with the sliders to see what fractals you can create!</p>
    <p>Click image to zoom. Reload page to restart.</p>
    <div>
        <image id="pic" src="/pic" width="640px" height="480px" />
    </div>

	<script>
        var pic = document.getElementById("pic");
        pic.addEventListener("click", function(e) {
            zoomAt(pic.width, pic.height, e.offsetX, e.offsetY)
            pic.src = "/pic?mx=" + mx + "&my=" + my + "&radius=" + radius;
        });
    </script>

    <div class="slidecontainer">
        <p>a value</p>
        <input type="range" min="-5" max="5" value="50" class="slider" id="rangeA">
        <p>Value: <span id="A"></span></p>
    </div>
    <div class="slidecontainer">
        <p>b value</p>
        <input type="range" min="-5" max="5" value="50" class="slider" id="rangeB">
        <p>Value: <span id="B"></span></p>
    </div>
    <script>
        var sliderA = document.getElementById("rangeA");
        var outputB = document.getElementById("A");
        var sliderB = document.getElementById("rangeB");
        var outputB = document.getElementById("B");
        outputA.innerHTML = sliderA.valueA;
        outputB.innerHTML = sliderB.valueB; // Display the default slider value

        // Update the current slider value (each time you drag the slider handle)
        slider.oninput = function() {
            outputA.innerHTML = this.valueA;
            outputB.innerHTML = this.valueB;

        } 
    </script>
</body>
</html>